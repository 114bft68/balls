<!DOCTYPE html>
<html>
<head>
<title>You like balls so do I</title>
<link rel="icon" href="Baller.webp">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap');
    body {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        user-select: none;
        background: #0d1117;
        margin: 0;
        padding: 0;
        height: 100vh;
    }

    * {
        font-family: 'Source Code Pro', sans-serif;
        color: white;
    }

    input[type='number'] {
        height: 25px;
        width: 150px;
        padding: 0;
        margin: 0;
        border: none;
        background-color: transparent;
        border-bottom: 1px solid rgba(192, 192, 192, 0.3);
        text-align: center;
        outline: none;
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        display: none;
    }

    #cB {
        border-bottom: 2px solid rgba(192, 192, 192, 0.3);
        border-right: 2px solid rgba(192, 192, 192, 0.3);
        border-top: 1px solid rgba(192, 192, 192, 0.3);
        border-left: 1px solid rgba(192, 192, 192, 0.3);
        border-radius: 10px;
    }

    #cB:hover {
        transition: all 0.35s;
        transform: scale(1.05);
    }

    input[type='checkbox']:hover {
        transition: all 0.3s;
        transform: scale(1.25);
    }

    ::placeholder {
        color: #ff9999;
    }
</style>
</head>
<body>
    <div style='font-size: 50px; font-weight: bold;'>THE MOVING BALLS</div>
    <div id='t0' style='font-size: 20px;; font-style: italic;'></div>
    <br>
    <br>
    <div id='options' style='opacity: 0; display: flex; align-items: center; flex-direction: column; padding: 25px; border: 1px solid #333333; border-radius: 10px;'>
        <div style='width: 100%;'>
            <label for='t1'>Balls' Speed:</label>
            <label for='t1'>from</label>
            <input id='t1' type='number' placeholder='1 - 5'>
            <label for='t2'>to</label>
            <input id='t2' type='number' placeholder='1 - 5'>
        </div>
        <br>
        <div>
            <label for='t3'>Balls' radius:</label>
            <label for='t3'>from</label>
            <input id='t3' type='number' placeholder='1 - 25'>
            <label for='t4'>to</label>
            <input id='t4' type='number' placeholder='1 - 25'>
        </div>
        <br>
        <div style='display: flex; justify-content: space-between; width: 100%;'>
            <label for='cb0'>Show tails</label>
            <input type='checkbox' style='padding: 0; margin: 0; height: 20px; width: 20px;' id='cb0'>
        </div>
        <br>
        <div style='display: flex; justify-content: space-between; width: 100%;'>
            <!-- below -->
            <label for='cb1' style='text-decoration: line-through;'>Unrealistic collisions of balls (ðŸ‘Ž)</label>
            <input type='checkbox' style='padding: 0; margin: 0; height: 20px; width: 20px;' id='cb1'>
        </div>
        <br>
        <div style='display: flex; justify-content: space-between; width: 100%;'>
            <!-- below -->
            <label for='cb2' style='text-decoration: line-through;'>Play audio when balls bounce</label>
            <input type='checkbox' style='padding: 0; margin: 0; height: 20px; width: 20px;' id='cb2'>
        </div>
        <br>
        <div style='display: flex; justify-content: space-between; width: 100%;'>
            <label for='cb3'>Constant changes in the color of the balls</label>
            <input type='checkbox' style='padding: 0; margin: 0; height: 20px; width: 20px;' id='cb3'>
        </div>
        <br>
        <div style='display: flex; justify-content: space-between; width: 100%;'>
            <label for='cb4'>Aim trainer mode (clickable balls)</label>
            <input type='checkbox' style='padding: 0; margin: 0; height: 20px; width: 20px;' id='cb4'>
        </div>
    </div>
    <br>
    <br>
    <button id='cB' style='opacity: 0; width: 250px; height: 50px; background: transparent; font-size: 25px;'>CONTINUE</button>
</body>
<script>
    const t1 = document.getElementById('t1');
    const t2 = document.getElementById('t2');
    const t3 = document.getElementById('t3');
    const t4 = document.getElementById('t4');
    const tbs = [t1, t2, t3, t4];

    var settings = JSON.parse(localStorage.getItem('settings')) || '';
    document.getElementById('t1').value = settings.speedF || '1';
    document.getElementById('t2').value = settings.speedT || '2.5';
    document.getElementById('t3').value = settings.radiusF || '15';
    document.getElementById('t4').value = settings.radiusT || '15';
    document.getElementById('cb0').checked = settings.tail || false;
    document.getElementById('cb1').checked = settings.collision || false;
    document.getElementById('cb2').checked = settings.sound || false;
    document.getElementById('cb3').checked = settings.color || false;
    document.getElementById('cb4').checked = settings.aim || false;

    let text = 'before you proceed...'.split('');
    var i = 0;
    let interval = setInterval(() => {
        if (i < text.length) { 
            document.getElementById('t0').innerHTML += text[i];
            i++;
        } else {
            clearInterval(interval);
            document.getElementById('options').style.transition = 'all 0.95s';
            document.getElementById('options').style.opacity ='1'; 
            setTimeout(() => {
                document.getElementById('cB').style.transition = 'all 0.75s';
                document.getElementById('cB').style.opacity ='1'; 
            }, 200);
        }
    }, 40);

    setInterval(() => {
        tbs.forEach((tb) => {
            if (tb.value === '' || (tb.value <= 0 && tb.value !== '') || (tb.value > 5 && (tb === t1 || tb === t2)) || (tb.value > 25 && (tb === t3 || tb === t4))) {
                tb.style.borderBottom = '1px solid rgba(255, 215, 0, .4)';
            } else {
                tb.style.borderBottom = '1px solid rgba(192, 192, 192, 0.3)';
            }
        });
    }, 1);

    document.getElementById('cB').addEventListener('click', () => {
        if (tbs.every((tb) => { return tb.value > 0 }) && t1.value <= 5 && t2.value <= 5 && t3.value <= 25 && t4.value <= 25) {
            settings = {
                "speedF": Number(document.getElementById('t1').value),
                "speedT": Number(document.getElementById('t2').value),
                "radiusF": Number(document.getElementById('t3').value),
                "radiusT": Number(document.getElementById('t4').value),
                "tail": document.getElementById('cb0').checked,
                "collision": document.getElementById('cb1').checked,
                "sound": document.getElementById('cb2').checked,
                "color": document.getElementById('cb3').checked,
                "aim": document.getElementById('cb4').checked
            };
            localStorage.setItem('settings', JSON.stringify(settings));
            location.href = 'balls.html';
        } else {
            tbs.forEach((tb) => {
                if (tb.style.borderBottom === '1px solid rgba(255, 215, 0, 0.4)') {
                    tb.style.transition = 'all 0.35s';
                    tb.style.transform = 'scale(1.03)';
                    setTimeout(() => {
                        tb.style.transition = 'all 0.35s';
                        tb.style.transform = 'scale(1)';
                    }, 200);
                }
            });
        }
    });

    // temp (probably)
    let abandoned = [document.getElementById('cb1'), document.getElementById('cb2')];
    abandoned.map((e) => e.addEventListener('click', (e) => {
        alert(e.target === abandoned[0] ? `Well, I don't know how balls act after colliding\nTeach me the physics on Discord (@newyearnewaccount)` : `Well, I don't have the audio\nSend me yours on Discord (@newyearnewaccount)`);
        abandoned.map((e) => e.checked = false);
    }));
</script>
</html>